Host *
    # ControlMaster auto
    # ControlPath ~/.ssh/master-%r@%h:%p
    # ControlPersist 2m
    ServerAliveCountMax 10
    ServerAliveInterval 15
    SendEnv INSIDE_EMACS

Match Exec "hostname | grep Desktop"
    Host localhost
    Port 22
Match Exec "hostname | grep HPE"
    Host localhost
    Port 7022
Host localhost
    Port 8022

Host linode
    HostName dimlight.tk
    Port 443
    User yangsheng
    ForwardAgent yes

Host racks
    HostName racks.dimlight.net
    Port 8022
    User yangsheng
    ForwardAgent yes

Match Originalhost t420 Exec "ip addr show | grep 192.168.1"
    HostName 192.168.1.152
    ProxyCommand none
Host t420
    HostName e.dimlight.net
    User yangsheng
    Port 8022
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15023
    ForwardAgent yes

Host t420_proxy_legacy
    HostName e.dimlight.net
    User yangsheng
    Port 8022
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15022
    ForwardAgent yes

Host HPE_fast
    HostName 10.0.1.1
    User kingston
    Port 7022
    ForwardAgent yes

Match Originalhost HPE Exec "ip addr show | grep 192.168.1"
    HostName 192.168.1.10
    ProxyCommand none
Host HPE
    HostName e.dimlight.net
    User kingston
    Port 7022
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15323
    ForwardAgent yes

Host HPE_proxy_legacy
    HostName e.dimlight.net
    User kingston
    Port 7022
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15322
    ForwardAgent yes

Match Originalhost Desktop Exec "ip addr show | grep 192.168.1"
    HostName 192.168.1.254
    ProxyCommand none
Host Desktop
    HostName e.dimlight.net
    User yangsheng
    Port 22
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15423
    ForwardAgent yes

Host Desktop_proxy_legacy
    HostName e.dimlight.net
    User yangsheng
    Port 22
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15422
    ForwardAgent yes

Host junkfood
    HostName junkfood.cs.umd.edu
    User styang
    ForwardAgent yes

Host optimizer
    HostName optimizer.cs.umd.edu
    User styang
    ProxyCommand ssh styang@junkfood nc %h %p

Host carbon
    HostName 192.168.1.253
    User yangsheng
    Port 8022

Host carbon_proxy
    User yangsheng
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15123

Host carbon_proxy_legacy
    User yangsheng
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15122

Host raspberry
    HostName r.dimlight.net
    User pi
    Port 8022
    ForwardAgent yes

Host raspberry_proxy
    User pi
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15222

Host raspberry_proxy_new
    User pi
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15223

Host osprey
    HostName osprey.cs.northwestern.edu
    User syi3741
    ForwardAgent yes

Host osprey_proxy_legacy
    HostName osprey.cs.northwestern.edu
    User syi3741
    ForwardAgent yes
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15522

Host osprey_proxy
    HostName osprey.cs.northwestern.edu
    User syi3741
    ForwardAgent yes
    ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15523


# Match Originalhost Desktop Exec "ip addr show | grep 192.168.1"
#     ProxyCommand none
Host Mobile
# HostName e.dimlight.net
    HostName 192.168.1.151
    User u0_a160
    Port 8022
# ProxyCommand ssh -p 8022 -q linode nc -q0 localhost 15623
    ForwardAgent yes

Host aws
    User ubuntu
    IdentityFile ~/.ssh/aws.pem
    Include other_config
